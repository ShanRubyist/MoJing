// RSS的列表组件
Vue.component('rss-list', {
    data: function () {
        return {
            rss_list_json:
              <% rst =  @rss_list.map do |rss| %>
                <% {title: rss.title,
                    description: rss.description,
                    pub_date: rss.pub_date.localtime.strftime("%Y-%m-%d %H:%M"),
                    author: rss.author,
                    link: rss.link,
                    rss: rss.rss_probe_history.title,
                    rss_link: rss.rss_probe_history.link,
                    rss_description: rss.rss_probe_history.description
                   } %>
              <% end %>
              <%= raw(rst.to_json) %>
        }
    },
    methods: {
        go_to_read: function (link) {
            window.open(link)
        },
    },
    template: '<%= import_partial('home/rss/rss_list_item.html') %>'
})
